[
  {
    "createSurface": {
      "surfaceId": "todo_list",
      "catalogId": "https://a2ui.dev/specification/0.9/standard_catalog_definition.json"
    }
  },
  {
    "updateComponents": {
      "surfaceId": "todo_list",
      "components": [
        {
          "id": "root",
          "component": "Column",
          "children": {"explicitList": ["header", "todo_list_component", "add_button"]},
          "alignment": "stretch",
          "distribution": "start"
        },
        {
          "id": "header",
          "component": "Row",
          "children": {"explicitList": ["title", "counter"]},
          "alignment": "center",
          "distribution": "spaceBetween"
        },
        {
          "id": "title",
          "component": "Text",
          "text": {"literalString": "My Todo List"}
        },
        {
          "id": "counter",
          "component": "Text",
          "text": {"path": "/stats/completed"},
          "alignment": "end"
        },
        {
          "id": "todo_list_component",
          "component": "List",
          "children": {
            "template": {
              "componentId": "todo_item",
              "dataBinding": {"path": "/todos"}
            }
          }
        },
        {
          "id": "todo_item",
          "component": "Row",
          "children": {"explicitList": ["checkbox", "todo_text", "delete_button"]},
          "alignment": "center",
          "distribution": "start"
        },
        {
          "id": "checkbox",
          "component": "Button",
          "child": "checkbox_icon",
          "action": {
            "name": "toggleTodo",
            "context": {
              "id": {"path": "id"},
              "completed": {"path": "completed"}
            }
          }
        },
        {
          "id": "checkbox_icon",
          "component": "Icon",
          "name": {"path": "icon"}
        },
        {
          "id": "todo_text",
          "component": "Text",
          "text": {"path": "text"},
          "weight": 1
        },
        {
          "id": "delete_button",
          "component": "Button",
          "child": "delete_icon",
          "action": {
            "name": "deleteTodo",
            "context": {"id": {"path": "id"}}
          }
        },
        {
          "id": "delete_icon",
          "component": "Icon",
          "name": {"literalString": "delete"}
        },
        {
          "id": "add_button",
          "component": "Button",
          "child": "add_text",
          "action": {"name": "addTodo"}
        },
        {
          "id": "add_text",
          "component": "Text",
          "text": {"literalString": "Add New Task"}
        }
      ]
    }
  },
  {
    "updateDataModel": {
      "surfaceId": "todo_list",
      "path": "/",
      "value": {
        "todos": [
          {
            "id": "1",
            "text": "Learn A2UI protocol",
            "completed": true,
            "icon": "check_circle"
          },
          {
            "id": "2",
            "text": "Build iOS client",
            "completed": false,
            "icon": "radio_button_unchecked"
          },
          {
            "id": "3",
            "text": "Test with mock server",
            "completed": false,
            "icon": "radio_button_unchecked"
          }
        ],
        "stats": {
          "completed": "1 of 3 completed"
        }
      }
    }
  }
]