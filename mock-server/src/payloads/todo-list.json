[
  {
    "version": "v0.9",
    "createSurface": {
      "surfaceId": "todo_list",
      "catalogId": "https://a2ui.dev/specification/0.9/standard_catalog_definition.json"
    }
  },
  {
    "version": "v0.9",
    "updateComponents": {
      "surfaceId": "todo_list",
      "components": [
        {
          "id": "root",
          "component": "Column",
          "children": ["header", "todo_list_component", "add_button"],
          "justify": "start",
          "align": "stretch"
        },
        {
          "id": "header",
          "component": "Row",
          "children": ["title", "counter"],
          "justify": "spaceBetween",
          "align": "center"
        },
        {
          "id": "title",
          "component": "Text",
          "text": "My Todo List"
        },
        {
          "id": "counter",
          "component": "Text",
          "text": {"path": "/stats/completed"},
          "align": "end"
        },
        {
          "id": "todo_list_component",
          "component": "List",
          "children": {
            "componentId": "todo_item",
            "path": "/todos"
          }
        },
        {
          "id": "todo_item",
          "component": "Row",
          "children": ["checkbox", "todo_text", "delete_button"],
          "justify": "start",
          "align": "center"
        },
        {
          "id": "checkbox",
          "component": "Button",
          "child": "checkbox_icon",
          "action": {
            "event": {
              "name": "toggleTodo",
              "context": {
                "id": {"path": "id"},
                "completed": {"path": "completed"}
              }
            }
          }
        },
        {
          "id": "checkbox_icon",
          "component": "Icon",
          "name": {"path": "icon"}
        },
        {
          "id": "todo_text",
          "component": "Text",
          "text": {"path": "text"}
        },
        {
          "id": "delete_button",
          "component": "Button",
          "child": "delete_icon",
          "action": {
            "event": {
              "name": "deleteTodo",
              "context": {"id": {"path": "id"}}
            }
          }
        },
        {
          "id": "delete_icon",
          "component": "Icon",
          "name": "delete"
        },
        {
          "id": "add_button",
          "component": "Button",
          "child": "add_text",
          "action": {
            "event": {
              "name": "addTodo"
            }
          }
        },
        {
          "id": "add_text",
          "component": "Text",
          "text": "Add New Task"
        }
      ]
    }
  },
  {
    "version": "v0.9",
    "updateDataModel": {
      "surfaceId": "todo_list",
      "path": "/",
      "value": {
        "todos": [
          {
            "id": "1",
            "text": "Learn A2UI protocol",
            "completed": true,
            "icon": "check_circle"
          },
          {
            "id": "2",
            "text": "Build iOS client",
            "completed": false,
            "icon": "radio_button_unchecked"
          },
          {
            "id": "3",
            "text": "Test with mock server",
            "completed": false,
            "icon": "radio_button_unchecked"
          }
        ],
        "stats": {
          "completed": "1 of 3 completed"
        }
      }
    }
  }
]
