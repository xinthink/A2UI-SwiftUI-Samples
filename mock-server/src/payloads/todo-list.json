[
  {
    "createSurface": {
      "surfaceId": "todo_list",
      "catalogId": "https://a2ui.dev/specification/0.9/standard_catalog_definition.json"
    }
  },
  {
    "updateComponents": {
      "surfaceId": "todo_list",
      "components": [
        {
          "id": "root",
          "weight": 1.0,
          "component": {
            "Column": {
              "children": {"explicitList": ["header", "todo_list_component", "add_button"]},
              "alignment": "stretch",
              "distribution": "start"
            }
          }
        },
        {
          "id": "header",
          "weight": 1.0,
          "component": {
            "Row": {
              "children": {"explicitList": ["title", "counter"]},
              "alignment": "center",
              "distribution": "spaceBetween"
            }
          }
        },
        {
          "id": "title",
          "weight": 1.0,
          "component": {
            "Text": {
              "text": {"literalString": "My Todo List"}
            }
          }
        },
        {
          "id": "counter",
          "weight": 1.0,
          "component": {
            "Text": {
              "text": {"path": "/stats/completed"},
              "alignment": "end"
            }
          }
        },
        {
          "id": "todo_list_component",
          "weight": 1.0,
          "component": {
            "List": {
              "children": {
                "template": {
                  "componentId": "todo_item",
                  "dataBinding": "/todos"
                }
              }
            }
          }
        },
        {
          "id": "todo_item",
          "weight": 1.0,
          "component": {
            "Row": {
              "children": {"explicitList": ["checkbox", "todo_text", "delete_button"]},
              "alignment": "center",
              "distribution": "start"
            }
          }
        },
        {
          "id": "checkbox",
          "weight": 1.0,
          "component": {
            "Button": {
              "child": "checkbox_icon",
              "action": {
                "name": "toggleTodo",
                "context": {
                  "id": {"path": "id"},
                  "completed": {"path": "completed"}
                }
              }
            }
          }
        },
        {
          "id": "checkbox_icon",
          "weight": 1.0,
          "component": {
            "Icon": {
              "name": {"path": "icon"}
            }
          }
        },
        {
          "id": "todo_text",
          "weight": 1.0,
          "component": {
            "Text": {
              "text": {"path": "text"}
            }
          }
        },
        {
          "id": "delete_button",
          "weight": 1.0,
          "component": {
            "Button": {
              "child": "delete_icon",
              "action": {
                "name": "deleteTodo",
                "context": {"id": {"path": "id"}}
              }
            }
          }
        },
        {
          "id": "delete_icon",
          "weight": 1.0,
          "component": {
            "Icon": {
              "name": {"literalString": "delete"}
            }
          }
        },
        {
          "id": "add_button",
          "weight": 1.0,
          "component": {
            "Button": {
              "child": "add_text",
              "action": {"name": "addTodo"}
            }
          }
        },
        {
          "id": "add_text",
          "weight": 1.0,
          "component": {
            "Text": {
              "text": {"literalString": "Add New Task"}
            }
          }
        }
      ]
    }
  },
  {
    "updateDataModel": {
      "surfaceId": "todo_list",
      "path": "/",
      "value": {
        "todos": [
          {
            "id": "1",
            "text": "Learn A2UI protocol",
            "completed": true,
            "icon": "check_circle"
          },
          {
            "id": "2",
            "text": "Build iOS client",
            "completed": false,
            "icon": "radio_button_unchecked"
          },
          {
            "id": "3",
            "text": "Test with mock server",
            "completed": false,
            "icon": "radio_button_unchecked"
          }
        ],
        "stats": {
          "completed": "1 of 3 completed"
        }
      }
    }
  }
]
